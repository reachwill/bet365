<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dynamic SVG Manipulation</title>
    <style>
        svg {
            border: 1px solid #000;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <svg id="svgCanvas" width="500" height="300">
        <rect width="100%" height="100%" fill="lightgray"></rect>
    </svg>
    <button onclick="addCircle()">Add Circle</button>
    
    <script>
        let svg = document.getElementById("svgCanvas");

        function addCircle() {
            let circle = document.createElementNS("http://www.w3.org/2000/svg", "circle");
            circle.setAttribute("cx", Math.random() * 400 + 50);
            circle.setAttribute("cy", Math.random() * 200 + 50);
            circle.setAttribute("r", 20);
            circle.setAttribute("fill", getRandomColor());
            circle.setAttribute("stroke", "black");
            circle.setAttribute("stroke-width", "2");
            
            circle.addEventListener("click", function(event) {
                event.stopPropagation();
                this.setAttribute("fill", getRandomColor());
            });
            
            svg.appendChild(circle);
        }
        
        function getRandomColor() {
            return "#" + Math.floor(Math.random()*16777215).toString(16);
        }
    </script>
</body>
</html>
